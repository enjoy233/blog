<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Use Django with Bower and Pipeline | TaoAlpha's Blog</title><meta name="description" content="Integrate bower and coffee-script, sass into django."><meta name="viewport" content="width=device-width, initial-scale=1"><!-- open graph part--><meta property="og:title" content="Use Django with Bower and Pipeline | TaoAlpha's Blog"><meta property="og:description" content="Integrate bower and coffee-script, sass into django."><meta property="og:url" content="undefined"><meta property="og:image" content="http://taoalpha.github.io/images/newblog.jpg"><meta property="og:type" content="website"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.6.0/hint.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"><link rel="short icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/default.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/blog/atom.xml" title="TaoAlpha's Blog" type="application/atom+xml">
<link rel="alternate" href="/blog/rss2.xml" title="TaoAlpha's Blog" type="application/rss+xml">
</head><body class="post"><aside class="home-menu"><nav class="home-icon-con upside"><a href="/blog/" class="home-menu-icon brand">涛</a><a href="/blog/timeline" class="home-menu-icon"><i class="fas fa-map-marker-alt"></i></a><a aria-label="Click to take you to the search box." class="home-menu-icon search-trigger hint--right"><i class="fas fa-search"></i></a><a href="javascript:;" title="Contact Me" class="home-menu-icon follow">+</a><div class="home-contact hidden"><a href="https://facebook.com/zzgary/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/facebook-32.png" alt="facebook"></a><a href="https://github.com/taoalpha/" target="something"><img src="https://cdn1.iconfinder.com/data/icons/social-shade-rounded-rects/512/github-32.png" alt="github"></a><a href="https://taoalpha.github.io" target="something"><img src="https://cdn3.iconfinder.com/data/icons/colore-sociale/32/mewally_32x32.png" alt="portfolio"></a><a href="https://douban.com/people/129154019" target="something"><img src="https://img3.doubanio.com/favicon.ico" alt="douban"></a></div></nav><nav class="home-icon-con downside"><a href="/blog/rss2.xml" class="home-menu-icon rss"><i class="fas fa-rss"></i></a><a href="/blog/about/" class="home-menu-icon"><i class="fas fa-smile"></i></a><span id="dark-mode" class="home-menu-icon hidden"><i class="fas fa-adjust"></i></span></nav></aside><div class="stars"></div><div class="twinkling"></div><div id="progress-bar" class="hidden"><span class="bg"></span></div><article id="content"><div class="main"><section class="entry"><h1 class="entry-title">Use Django with Bower and Pipeline</h1><div class="meta-top"><a href="https://taoalpha.github.io"><div style="display:inline-block;" class="avatar"><img src="https://avatars3.githubusercontent.com/u/4335753?v=3&amp;s=40" alt="100"></div><span>TaoAlpha</span></a><span>2015-09-07</span><span class="wordage">5490 words</span><span class="readspeed">16 minutes to read</span></div><div class="entry-content"><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Since I decided to focus on python and JS, I started to dig into these two babies.</p>
<p>I use django as my web framework in python, so how to build a website easier is what I most concerned. I used yeoman for a while, pretty amazing and convenient, especially the bower and compressor, compiler.</p>
<p>So I did some search and study, trying to integrate the bower and compressor, compiler into django since I am getting used to the yeoman workflow.</p>
<h2 id="How-to-do-that"><a href="#How-to-do-that" class="headerlink" title="How to do that"></a>How to do that</h2><p>Python is great for extensions. It has so many modules you can find and build for it. So in order to integrate the bower and compressor, compiler into django, we need two modules:</p>
<h3 id="django-bower"><a href="#django-bower" class="headerlink" title="django-bower"></a><a href="https://github.com/nvbn/django-bower" target="_blank" rel="noopener">django-bower</a></h3><p>Just like other modules, you can install django-bower easily through <code>pip</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-bower</span><br></pre></td></tr></table></figure>

<p>After you installed , you need add it into your <code>INSTALLED_APPS</code> in your project settings with the name is ‘djangobower’. And If you don’t want to add the component file path by youself, you can use <code>djangobower.finders.BowerFinder</code> to do that for you. Just add it into your <code>INSTALLED_FINDERS</code>.</p>
<p>You can also set the <code>BOWER_COMPONENTS_ROOT</code> to put all your packages into one place. And if you want, you can set the path to bower manually: <code>BOWER_PATH=path_to_bower</code></p>
<p>So after these, how to use it?</p>
<p>Easy, you can manage your packages in your project settings with <code>BOWER_INSTALLED_APPS=(&#39;jquery&#39;,&#39;bootstrap#4.0.0-alpha&#39;,)</code>, and put all your packages names into it. Just similar to what you did in <code>bower.json</code>.</p>
<p>And for installing all the packages, you just need to run <code>python manage.py bower_install -- --allow-root</code>(you can get rid of the <code>-- --allow-root</code> if you don’t receive the sudo error)</p>
<p>And it will install all the packages you have listed in your settings.</p>
<p>The last step and most important step, you need to collect all your static files into your static folder. Just run:<br><code>python manage.py collectstatic</code>.</p>
<p>Now you can just put </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>

<p>in the top of your template files and use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">&#123;% static &#39;static_path_to_you_modlue_file&#39; %&#125; </span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>

<p>anywhere you want.</p>
<p>That’s it. Pretty much all about <code>django-bower</code>.</p>
<h3 id="django-pipeline"><a href="#django-pipeline" class="headerlink" title="django-pipeline"></a><a href="https://github.com/cyberdelia/django-pipeline" target="_blank" rel="noopener">django-pipeline</a></h3><p>Now we got bower, so next step we need to get the compressor and compiler.</p>
<p>I use coffee-script as my pre-processor for JS. It’s easy and super cool!!! Strongly recommended!</p>
<p>Bower is a pretty cool package manager, but it has nothing to do with your own scripts or stylesheets or html files. So in order to compress the files to minimize the size of files and to use coffee-script, sass in django. You can install <code>django-pipeline</code>.</p>
<p>Just like <code>django-bower</code>, you can also install <code>django-pipeline</code> with pip:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-pipeline</span><br></pre></td></tr></table></figure>

<p>Same as <code>django-bower</code>, you need put some essentials into your project setting file.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = (</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'pipeline'</span>,</span><br><span class="line">)</span><br><span class="line">STATICFILES_STORAGE = <span class="string">'pipeline.storage.PipelineCachedStorage'</span></span><br><span class="line"><span class="comment"># if you don't want the version files, you can just use `PipelineStorage` instead of `PipelineCachedStorage`</span></span><br><span class="line"></span><br><span class="line">STATICFILES_FINDERS = (</span><br><span class="line">  ...</span><br><span class="line">  <span class="string">'django.contrib.staticfiles.finders.FileSystemFinder'</span>,</span><br><span class="line">  <span class="string">'django.contrib.staticfiles.finders.AppDirectoriesFinder'</span>,</span><br><span class="line">  <span class="string">'pipeline.finders.PipelineFinder'</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">STATICFILES_DIRS = (</span><br><span class="line">  <span class="string">'absolute_path_to_your_static_folder'</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># this will tell finders to find static files in these folders</span></span><br><span class="line"></span><br><span class="line">STATICFILES_STORAGE = <span class="string">'pipeline.storage.PipelineStorage'</span></span><br><span class="line"></span><br><span class="line">PIPELINE_ENABLED = <span class="literal">True</span></span><br><span class="line"><span class="comment"># This will enable the compress</span></span><br><span class="line"></span><br><span class="line">PIPELINE_CSS = &#123;</span><br><span class="line">    <span class="string">'group_name'</span>: &#123;</span><br><span class="line">        <span class="string">'source_filenames'</span>: (</span><br><span class="line">          <span class="string">'relative_path_to_your_files'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'output_filename'</span>: <span class="string">'relative_path_to_your_output_file'</span>,</span><br><span class="line">        <span class="string">'extra_context'</span>: &#123;</span><br><span class="line">            <span class="string">'media'</span>: <span class="string">'screen,projection'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># in source_filenames, the path of your files is relative to your static file dirs, the Finders will look for each folder you set in the STATICFILES_DIRS.</span></span><br><span class="line"><span class="comment"># in output_filename, the path is relative to the STATIC_ROOT you set in your settings.</span></span><br><span class="line"></span><br><span class="line">PIPELINE_JS = &#123;</span><br><span class="line">    <span class="string">'group_name'</span>: &#123;</span><br><span class="line">        <span class="string">'source_filenames'</span>: (</span><br><span class="line">          <span class="string">'relative_path_to_your_files'</span>,</span><br><span class="line">        ),</span><br><span class="line">        <span class="string">'output_filename'</span>: <span class="string">'relative_path_to_your_output_file'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># same with css</span></span><br><span class="line"></span><br><span class="line">PIPELINE_COMPILERS = (</span><br><span class="line">    <span class="string">'pipeline.compilers.coffee.CoffeeScriptCompiler'</span>,</span><br><span class="line">    <span class="string">'pipeline.compilers.sass.SASSCompiler'</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># in order to use these compilers, you need install them first !</span></span><br></pre></td></tr></table></figure>

<p>After finish the configuration, we can use it. In my case, I create a <code>customize</code> folder to store all the customized styles and scripts. So i put this folder into my <code>STATICFILES_DIRS</code> and create a simple group in <code>PIPELINE_CSS</code>.</p>
<p>After that, just run the <code>python manage.py collectstatic</code>. All your file will be copying and moving to your <code>STATIC_ROOT</code>.</p>
<p>Same with <code>django-bower</code>, you can set the path to <code>sass</code> or <code>coffee-script</code> manually if you want (like <code>PIPEPLINE_SASS_BINARY=&#39;&#39;</code>).</p>
<p>In your template, you can either load the file like what you did in <code>django-bower</code>(or default way, precisely), or you can load it using <code>pipeline</code>:</p>
<p>put </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">&#123;% load pipeline %&#125;</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>

<p>into the top of your template files, and use </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">&#123;% stylesheet &#39;group_name&#39;&#125;</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>

<p> to import the stylesheet, same for javascript with <code>javascript</code> keyword.</p>
<p>All done.</p>
<h2 id="Enjoy-it"><a href="#Enjoy-it" class="headerlink" title="Enjoy it"></a>Enjoy it</h2><p>Now you have bower, coffee-script, sass in your django. Enjoy the modern web coding style!!</p>
<p>Thanks &amp; Best!</p>
</div><div class="post-info"><span class="category"><i class="fas fa-briefcase"></i><a href="/blog/categories/tech">tech</a></span><span class="tags"><i class="fas fa-tags"></i><a href="/blog/tags/python">python</a><a href="/blog/tags/django">django</a></span></div></section><div class="widgets"><aside id="menuIndex" class="sidenav hidden"></aside><aside class="sidenav"><input type="text" placeholder="Enter to search" class="st-default-search-input searchbox"></aside><div class="related-posts sidenav"><h2>Related Posts:</h2><ul class="article-list"><li><a href="/blog/2015/07/05/tech-raspberry-pi-setup/">Raspberry Pi Setup</a></li><li><a href="/blog/2015/06/20/tech-python-script-analyse-ips-in-nginx-access-log/">A simple python script to analyse all ips in nginx access log</a></li><li><a href="/blog/2015/06/13/tech-create-a-kindle4rss-by-yourself/">利用KindleEar定制属于你自己的RSS推送服务</a></li></ul></div><aside class="sidenav"><div class="recent-posts"><h2>Recent Posts:</h2><ul class="article-list"><li><a href="/blog/2020/07/04/travel-working-holiday-visa-3/">打工度假 (三)</a></li><li><a href="/blog/2020/07/02/travel-working-holiday-visa-2/">打工度假 (二)</a></li><li><a href="/blog/2020/07/02/tech-what-i-have-done-to-restart-this-blog/">我都做了哪些来复活本博客的</a></li><li><a href="/blog/2020/07/01/travel-working-holiday-visa/">打工度假 (一)</a></li><li><a href="/blog/2020/06/30/tech-gitment-and-gittalk/">Gitment and Gitalk</a></li></ul></div></aside></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/default.css"><script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/gitment.browser.js"></script><div class="comments"><script>const gitment = new Gitment({
  id: new Date('Mon Sep 07 2015 04:00:00 GMT-0400').toISOString(),
  owner: 'taoalpha',
  repo: 'blog',
  oauth: {
    client_id: '875872ffb3955d0ffe20',
    client_secret: '46040668c536860a9e2e9a8508c513309e3840b5',
  },
});
gitment.render(document.querySelector('.comments'));
</script></div></article><div class="notification fail hidden"></div><!-- jquery--><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46725017-2",'auto');ga('send','pageview');</script><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
_st('install','CUMLELEvkSRAFuVehSCm','2.0.0');</script><!-- main functions--><script src="/blog/js/functions.js"></script><script src="/blog/js/default.js"></script><script src="/blog/js/post.js"></script></body></html>